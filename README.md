# 🔥 Firebase 주문 수집 시스템

## 📋 개요

Google Apps Script + Google Sheets 기반의 주문 수집 시스템을 **Firebase로 전환**한 완전한 실시간 주문 관리 시스템입니다.

## 🚀 주요 기능

### 📦 주문 접수 페이지 (index.html)
- ✅ **실시간 주문 접수**: 고객이 주문 정보 입력
- ✅ **주소 찾기**: Daum 우편번호 API 연동
- ✅ **자동 주문번호 생성**: ORD + 날짜시간 형식
- ✅ **실시간 Firebase 연결 상태** 표시
- ✅ **관리자 페이지 접근**: PIN 인증

### 🔧 관리자 페이지 (admin.html)
- ✅ **실시간 주문 현황**: 모든 주문을 실시간으로 확인
- ✅ **주문 상태 관리**: 접수 → 조리중 → 배송중 → 완료 → 취소
- ✅ **필터링 기능**: 상태별, 날짜별 주문 필터
- ✅ **통계 대시보드**: 오늘의 주문 건수, 예상 매출
- ✅ **최근 주문**: 최근 5개 주문 실시간 표시
- ✅ **Excel 내보내기**: 주문 데이터를 Excel 파일로 다운로드

## 📁 파일 구조

```
Firebase-주문시스템/
├── 📄 index.html          # 주문 접수 페이지
├── 📄 admin.html          # 관리자 페이지
└── 📄 README.md           # 설정 가이드
```

## ⚙️ 설정 방법

### 1단계: Firebase 프로젝트 설정
1. [Firebase 콘솔](https://console.firebase.google.com/) 접속
2. **"cx-tech-builder"** 프로젝트 선택 (이미 설정됨)
3. **Realtime Database** 확인 (싱가포르 위치)

### 2단계: 보안 규칙 설정
Firebase 콘솔 → Realtime Database → "규칙" 탭에서:

```json
{
  "rules": {
    ".read": true,
    ".write": true
  }
}
```

### 3단계: 파일 실행
1. **index.html** 브라우저에서 열기
2. **admin.html** 관리자 페이지 (PIN: yhjk99)

## 🎯 사용 방법

### 주문 접수
1. **index.html** 열기
2. 고객 정보 입력 (고객명, 연락처, 상품명, 수량)
3. 주소 입력 (주소찾기 버튼 사용 가능)
4. **"주문 접수하기"** 버튼 클릭
5. 실시간으로 Firebase에 저장됨

### 관리자 관리
1. **"관리자"** 버튼 클릭
2. PIN 입력: **yhjk99**
3. **admin.html** 페이지에서 주문 관리
4. 주문 상태 변경, 필터링, Excel 내보내기

## 🔄 실시간 기능

### 실시간 동기화
- ✅ **여러 관리자가 동시에 주문 확인**
- ✅ **새 주문이 들어오면 즉시 반영**
- ✅ **주문 상태 변경 시 실시간 업데이트**

### 데이터 구조
```json
{
  "orders": {
    "orderId1": {
      "orderNumber": "ORD20241227123456",
      "customerName": "홍길동",
      "phone": "010-1234-5678",
      "product": "상품명",
      "quantity": 2,
      "address": "서울시 강남구",
      "detailAddress": "상세주소",
      "memo": "메모",
      "status": "접수",
      "createdAt": 1732627480000
    }
  }
}
```

## 📊 Google Apps Script vs Firebase 비교

| 기능 | Google Apps Script | Firebase |
|------|-------------------|----------|
| **실시간 동기화** | ❌ 제한적 | ✅ 완벽한 실시간 |
| **확장성** | ❌ 사용자 수 제한 | ✅ 무제한 |
| **속도** | ❌ 느림 (서버 실행) | ✅ 빠름 (클라이언트) |
| **관리 편의성** | ❌ 복잡한 서버 코드 | ✅ 간단한 클라이언트 코드 |
| **데이터 백업** | ❌ 수동 | ✅ 자동 |
| **비용** | ❌ 사용량 제한 | ✅ 무료 티어 충분 |

## 🚀 배포 방법

### Netlify 배포 (권장)
1. **GitHub**에 코드 업로드
2. **Netlify**에서 GitHub 저장소 연결
3. **자동 배포** 설정
4. **커스텀 도메인** 설정 (선택사항)

### 로컬 테스트
1. **index.html** 브라우저에서 열기
2. **admin.html** 별도 탭에서 열기
3. 실시간 동기화 테스트

## 🔧 커스터마이징

### PIN 번호 변경
**index.html**에서:
```javascript
if (pin === 'yhjk99') {  // 이 부분을 원하는 PIN으로 변경
```

### 상품 가격 설정
**admin.html**에서:
```javascript
// 예상 매출 계산 (상품당 10,000원 가정)
const totalRevenue = todayOrders.reduce((sum, [id, order]) => {
    return sum + (order.quantity * 10000);  // 가격 변경
}, 0);
```

### 주문 상태 추가
**admin.html**에서 상태 옵션 추가:
```html
<option value="새상태">새상태</option>
```

## 🆕 추가 기능 제안

### 고급 기능들
- 📱 **푸시 알림**: 새 주문 시 알림
- 📊 **상세 통계**: 매출 분석, 인기 상품
- 👥 **사용자 인증**: 관리자 로그인 시스템
- 📸 **이미지 업로드**: 상품 이미지 첨부
- 💳 **결제 연동**: 온라인 결제 시스템

## ❓ 문제 해결

### 연결 문제
- Firebase 콘솔에서 보안 규칙 확인
- 브라우저 개발자 도구에서 오류 확인
- 네트워크 연결 상태 확인

### 데이터 문제
- Firebase 콘솔 → "데이터" 탭에서 데이터 확인
- 브라우저 새로고침
- 캐시 삭제 후 재시도

## 📞 지원

문제가 발생하면:
1. **브라우저 개발자 도구** (F12) 확인
2. **Firebase 콘솔**에서 오류 로그 확인
3. **네트워크 탭**에서 API 호출 상태 확인

---

**Firebase의 강력한 실시간 기능으로 완전한 주문 관리 시스템을 구축했습니다!** 🔥

